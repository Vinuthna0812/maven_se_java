COMMANDS:
GIT, DOCKER, KUBERNETES, NAGIOS


SSH-Keygen: ssh-keygen -t rsa -C adityapanyalastudy@gmail.com

git:

config :

git config --global user.name "Your Name"
git config --global user.email "youremail@example.com"
git config --list

repo setup:

git remote -v 
git remote add origin <repo_url>
git remote remove origin
git remote set-url origin <new_url>

staging and commit:

git status → Check file states.
git add file.txt → Stage file.
git add . → Stage everything.
git reset file.txt → Unstage file but keep changes.
git commit -m "message" → Commit staged changes.
git commit --amend -m "new message" → Fix last commit message

fetching and pulling:

 git push origin main → Push local commits.
 git push -u origin main → Push & set upstream (first time).
 git pull origin main → Fetch + merge remote changes.
 git fetch origin → Download without merging.
 git fetch origin branch-name → Fetch specific branch.
 git rebase origin/main → Reapply local commits on top of remote.


branching:

 git branch → List branches.
 git branch branch-name → Create branch.
 git checkout branch-name → Switch branch.
 git checkout -b new-branch → Create & switch.
 git branch -d branch-name → Delete branch (safe).
 git branch -D branch-name → Force delete branch.
 git branch -r → List remote branches.
 git branch --merged → See merged branches.
 git remote prune origin → Remove deleted remote branches


merging and conflicts:

 git merge branch-name → Merge into current branch.

 Conflict resolution: open file, fix markers (
 bash
 git add file
 git commit
 <<<<<<< / 
======= / 
>>>>>>> ), then:

 git stash → Save changes temporarily.
 git stash apply → Restore stashed changes


undoing:

 git restore file.txt → Undo changes before staging.
 git reset file.txt → Remove from staging.
 git revert <commit_hash> → Create new commit that undoes a commit.
 git reflog → See history of HEAD, recover deleted branch.


history:

 git log → Full commit history.
 git log --oneline → Short history.
 git show <commit_hash> → Show details of commit.
 git diff → Show unstaged changes.
git blame file.txt → See who changed each line.



git diff > mychanges.patch
git diff --cached > mychanges.patch
git format-patch -1 <commit-hash>
git format-patch -1 HEAD
git apply mychanges.patch
git am < mychanges.patch


-----------------------------------------





docker:

FROM tomcat:9.0
COPY ./target/name.war /usr/local/tomcat/webapps/ROOT.war
CMD ["catalina.sh","run"]

+++++++++++++++++++++++

version: "3.9"
 
services:
  web:
    image: your image
    ports:
      - "8085:8080"
    depends_on:
      - mysql   

  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: university
      MYSQL_USER: user
      MYSQL_PASSWORD: password
    ports:
      - "3306:3306"
++++++++++++++++++++++++


docker build -t oles-app .
docker run -d -p 8088:8080 --name oles-ooga oles-app

docker pull
docker run -it

docker-compose up -d

docker exec -it oles-mysql-1 mysql -u root -p

docker tag oles-app epicdino/oles-app 
docker push epicdino/oles-app



------------------------------------------------------------------------------------------------------------------

MINIKUBE:
minikube start
kubectl create deployment mynginx --image=nginx
kubectl get deployments
kubectl expose deployment mynginx --type=NodePort --port=8080 --target-port=80
kubectl scale deployment mynginx --replicas=4
kubectl port-forward svc/mynginx 8081:8080
view in 8081

NAGIOS:
docker pull jasonrivers/nagios:latest
→ docker run --name nagiosdemo -p 8888:80 jasonrivers/nagios:latest   -> openlocalhost:8888 it will ask username:nagiosadmin , pass:nagios

------------------------------------------------------------------------------------------------------------------
for nginx:

docker pull ubuntu:latest
docker run -it --name myubuntu -p 9090:80 ubuntu:latest
apt install nginx -y
ls
cd usr
cd share
cd nginx
cat /etc/nginx/sites-enabled/default
cp /usr/share/nginx/html/index.html /var/www/html/index.html
nano index.html -> make changes

DOCKER IMAGE CREATION:
docker commit myubuntu myimage
docker images
docker run -it myimage
docker tag myimage ananyabijja15/myimage
docker push ananyabijja15/myimage


using docker file:
write dockerfile
docker build -t image .
docker run -it myimage
make changes
docker tag myimage ananyabijja15/myimage
docker push ananyabijja15/myimage

